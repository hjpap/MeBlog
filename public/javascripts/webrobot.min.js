/*! |ric w| 07-11-2014 */
!function(){var a="ontouchstart"in window&&"Win32"!=window.navigator.platform,b={RESIZE_EVENT:"onorientationchange"in window?"orientationchange":"resize",START_EVENT:a?"touchstart":"mousedown",MOVE_EVENT:a?"touchmove":"mousemove",END_EVENT:a?"touchend":"mouseup",CANCEL_EVENT:a?"touchcancel":"mouseup",OVER_EVENT:"mouseover",LEAVE_EVENT:"mouseleave"},c='<div class="webrobot">                        <div id="body" class="robot-body body-shadow">                            <div id="head" class="robot-head head-shadow">                                <div id="lefteye" class="left-eye eye">                                    <div class="robot-eyeball"></div>                                    <div class="robot-eyeball2"></div>                                </div>                                <div id="righteye" class="right-eye eye">                                    <div class="robot-eyeball"></div>                                    <div class="robot-eyeball2"></div>                                </div>                            </div>                            <div id="lefthand" class="left-hand robot-hand"></div>                            <div id="righthand" class="right-hand robot-hand"></div>                        </div>                        <div id="messagebox" class="messagebox"><div id="msgtext" class="msgtxt">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</div><div id="msgclose" class="msgclose"></div></div>                    </div>',d={blinkeye:"blinkeyeanimate",wavehand:"wavehandanimate",retractedhead:"retractedheadanimate",raisehead:"raiseheadanimate",raiseheadheight:"raiseheadheightanimate",raiseheadtoheight:"raiseheadtoheightanimate",bigbody:"biganimate",bigtodefaultbody:"bigtodefaulanimate",squinteye:"squinteye",starteye:"starteye",showmsg:"showmsg"},e=function(a,e){var f=this;f._aniName=d,f._opt={};for(var g in e)f._opt[g]=e[g];f._rootDom=$(c),f._bodyDom=null,f._headDom=null,f._leftEyeDom=null,f._rightEyeDom=null,f._leftHandDom=null,f._rightHandDom=null,f._messageBoxDom=null;var h={initDom:function(){f._bodyDom=f._rootDom.find("#body"),f._headDom=f._rootDom.find("#head"),f._leftEyeDom=f._rootDom.find("#lefteye"),f._rightEyeDom=f._rootDom.find("#righteye"),f._leftHandDom=f._rootDom.find("#lefthand"),f._rightHandDom=f._rootDom.find("#righthand"),f._messageBoxDom=f._rootDom.find("#messagebox")},init:function(){this.initDom(),a?$(a).append(f._rootDom):$("body").append(f._rootDom)}},i={bodyEvent:function(){f.mouseDown=!1;var a;f._bodyDom.bind(b.START_EVENT,function(c){f.mouseDown=!0,$(document).bind(b.MOVE_EVENT,a=function(a){f.mouseDown&&(f._rootDom.css("position","fixed"),f._rootDom.css("left",a.pageX-5),f._rootDom.css("top",a.pageY-2),f.bodyMouseMoveHandle&&f.bodyMouseMoveHandle(a))}),$(document).bind(b.END_EVENT,moveEndFun=function(){f.mouseDown=!1,$("body").unbind(b.MOVE_EVENT,a),$("body").unbind(b.MOVE_EVENT,moveEndFun),f.bodyMouseUpHandle&&f.bodyMouseUpHandle(c)}),f.bodyMouseDownHandle&&f.bodyMouseDownHandle(c)}),f._bodyDom.bind(b.END_EVENT,function(a){f.bodyMouseUpHandle&&f.bodyMouseUpHandle(a)}),f._bodyDom.bind(b.OVER_EVENT,function(a){f.bodyMouseOverHandle&&f.bodyMouseOverHandle(a)}),f._bodyDom.bind(b.LEAVE_EVENT,function(a){f.bodyMouseLeaveHandle&&f.bodyMouseLeaveHandle(a)})},msgEvent:function(){f._messageBoxDom.find("#msgclose").bind(b.END_EVENT,function(){f.showMsg()})},init:function(){this.bodyEvent(),this.msgEvent()}};h.init(),i.init()};e.prototype={defaultRobotState:null,setDefaultCss:function(){var a=this;a.setBodyDefault(),a.setHeadDefault(),a.setEyesDefault(),a.setHandDefault()},setBodyDefault:function(){var a=this;a._bodyDom.removeClass().addClass("robot-body body-shadow")},setHeadDefault:function(){var a=this;a._headDom.removeClass().addClass("robot-head head-shadow")},setEyesDefault:function(){var a=this;a._leftEyeDom.removeClass().addClass("left-eye eye"),a._rightEyeDom.removeClass().addClass("right-eye eye")},setHandDefault:function(){var a=this;a._leftHandDom.removeClass().addClass("left-hand robot-hand"),a._rightHandDom.removeClass().addClass("right-hand robot-hand")},blinkEye:function(a){var b=this;b.setEyesDefault(),a!==!1&&(b._leftEyeDom.addClass(d.blinkeye),b._rightEyeDom.addClass(d.blinkeye))},squintEye:function(a){var b=this;b.setEyesDefault(),a!==!1&&(b._leftEyeDom.addClass(d.squinteye),b._rightEyeDom.addClass(d.squinteye))},startEye:function(a){var b=this;b.setEyesDefault(),a!==!1&&(b._leftEyeDom.addClass(d.starteye),b._rightEyeDom.addClass(d.starteye))},retractedHead:function(a){var b=this;b.setHeadDefault(),a!==!1&&b._headDom.addClass(d.retractedhead)},raiseHead:function(a){var b=this;b.retractedHead(),a!==!1&&b._headDom.addClass(d.raisehead)},heightToRaiseHead:function(a){var b=this;b.setHeadDefault(),a!==!1&&b._headDom.addClass(d.raiseheadtoheight)},raiseHeightHead:function(a){var b=this;return"raise"===a?void b.heightToRaiseHead():(b.retractedHead(),void(a!==!1&&b._headDom.addClass(d.raiseheadheight)))},waveHand:function(a){var b=this;b.setHandDefault(),a!==!1&&(b._leftHandDom.addClass(d.wavehand),b._rightHandDom.addClass(d.wavehand))},bigBody:function(a){var b=this;b.setBodyDefault(),a!==!1&&b._bodyDom.addClass(d.bigbody)},bigBodyToDefault:function(a){var b=this;b.setBodyDefault(),a!==!1&&b._bodyDom.addClass(d.bigtodefaultbody)},say:function(a){var b=this;b._messageBoxDom.find("#msgtext").text(a),b.showMsg(!0)},fretfully:function(a){var b=this;b.defaultRobotState?b.defaultRobotState():b.setDefaultCss(),a!==!1&&(b.waveHand(),b.raiseHeightHead(),b.startEye())},bodyMouseDownHandle:null,bodyMouseUpHandle:null,bodyMouseMoveHandle:null,bodyMouseOverHandle:null,bodyMouseLeaveHandle:null,showMsg:function(a){var b=this;a?1==a?b._messageBoxDom.addClass(d.showmsg):b._messageBoxDom.removeClass(d.showmsg):b._messageBoxDom.hasClass(d.showmsg)?b._messageBoxDom.removeClass(d.showmsg):b._messageBoxDom.addClass(d.showmsg)}},window.WebRobot=e}();